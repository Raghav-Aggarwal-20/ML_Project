<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Student Exam Performance Predictor</title>

  <!-- Bootstrap (simple, clean UI) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

  <style>
    :root {
      --bg: #0b1220;
      --card: rgba(255, 255, 255, 0.08);
      --card-border: rgba(255, 255, 255, 0.14);
      --text: #e8eefc;
      --muted: rgba(232, 238, 252, 0.72);
    }

    body {
      min-height: 100vh;
      color: var(--text);
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(99, 102, 241, 0.35), transparent 60%),
        radial-gradient(900px 500px at 80% 20%, rgba(16, 185, 129, 0.25), transparent 55%),
        radial-gradient(700px 450px at 50% 90%, rgba(59, 130, 246, 0.22), transparent 55%),
        linear-gradient(180deg, #070b14 0%, var(--bg) 100%);
    }

    .brand-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 0.75rem;
      border: 1px solid var(--card-border);
      background: var(--card);
      border-radius: 999px;
      color: var(--muted);
      font-size: 0.9rem;
      backdrop-filter: blur(10px);
    }

    .app-card {
      background: var(--card);
      border: 1px solid var(--card-border);
      border-radius: 18px;
      box-shadow: 0 24px 60px rgba(0, 0, 0, 0.45);
      backdrop-filter: blur(12px);
    }

    .form-label {
      color: var(--muted);
      font-weight: 600;
    }

    .form-control,
    .form-select {
      background: rgba(255, 255, 255, 0.10);
      border: 1px solid rgba(255, 255, 255, 0.16);
      color: var(--text);
    }

    .form-control::placeholder {
      color: rgba(232, 238, 252, 0.50);
    }

    .form-select option {
      color: #0b1220;
    }

    .btn-primary {
      background: linear-gradient(90deg, rgba(99, 102, 241, 0.95), rgba(59, 130, 246, 0.95));
      border: none;
      box-shadow: 0 10px 30px rgba(59, 130, 246, 0.25);
    }

    .btn-primary:hover {
      filter: brightness(1.05);
      transform: translateY(-1px);
    }

    .result-card {
      border-radius: 16px;
      border: 1px dashed rgba(255, 255, 255, 0.22);
      background: rgba(0, 0, 0, 0.18);
    }

    .footer-note {
      color: rgba(232, 238, 252, 0.60);
      font-size: 0.9rem;
    }
  </style>
</head>

<body>
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-12 col-lg-9 col-xl-8">

        <div class="d-flex flex-column flex-sm-row align-items-start align-items-sm-center justify-content-between gap-3 mb-4">
          <div>
            <div class="brand-badge mb-2">üìä ML Web App ¬∑ Student Performance</div>
            <h1 class="display-6 fw-bold mb-1">Student Exam Performance Predictor</h1>
            <p class="mb-0" style="color: var(--muted);">Enter student details to predict the expected <strong>Math score</strong>.</p>
          </div>
        </div>

        <!-- How it works -->
        <div class="app-card p-4 p-md-4 mb-4">
          <div class="d-flex flex-column flex-md-row align-items-start align-items-md-center justify-content-between gap-3">
            <div>
              <h2 class="h5 fw-semibold mb-1">How it works</h2>
              <div style="color: var(--muted);">A quick look at the end‚Äëto‚Äëend workflow behind this app.</div>
            </div>
            <div class="brand-badge">‚öôÔ∏è EDA ‚Üí Training ‚Üí Docker ‚Üí AWS</div>
          </div>

          <div class="row g-3 mt-2">
            <div class="col-12 col-md-6 col-lg-4">
              <div class="p-3 rounded-4" style="background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.12);">
                <div class="fw-semibold">1) Data & EDA</div>
                <div class="mt-1" style="color: var(--muted);">Explore distributions, target behavior, and feature relationships to guide preprocessing and model choice.</div>
              </div>
            </div>

            <div class="col-12 col-md-6 col-lg-4">
              <div class="p-3 rounded-4" style="background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.12);">
                <div class="fw-semibold">2) Preprocessing Pipeline</div>
                <div class="mt-1" style="color: var(--muted);">Clean data, encode categoricals, scale numerics, and assemble a reproducible pipeline for training and inference.</div>
              </div>
            </div>

            <div class="col-12 col-md-6 col-lg-4">
              <div class="p-3 rounded-4" style="background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.12);">
                <div class="fw-semibold">3) Model Training & Tuning</div>
                <div class="mt-1" style="color: var(--muted);">Train multiple models, tune hyperparameters, evaluate with metrics, and persist the best model artifact.</div>
              </div>
            </div>

            <div class="col-12 col-md-6 col-lg-6">
              <div class="p-3 rounded-4" style="background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.12);">
                <div class="fw-semibold">4) Serving as a Web App</div>
                <div class="mt-1" style="color: var(--muted);">A lightweight Flask app loads the saved pipeline/model and exposes a simple UI for real‚Äëtime predictions.</div>
              </div>
            </div>

            <div class="col-12 col-md-6 col-lg-6">
              <div class="p-3 rounded-4" style="background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.12);">
                <div class="fw-semibold">5) Docker + AWS Deployment</div>
                <div class="mt-1" style="color: var(--muted);">CI/CD builds the Docker image, pushes it to Amazon ECR, then the EC2 host pulls and runs the container to serve users.</div>
              </div>
            </div>
          </div>

          <div class="mt-3" style="color: rgba(232, 238, 252, 0.60); font-size: 0.92rem;">
            Want the full technical breakdown? Check the project README for experiment details, artifacts, and the deployment pipeline.
          </div>
        </div>

        <div class="app-card p-4 p-md-5">
          <h2 class="h4 fw-semibold mb-3">Prediction Form</h2>
          <p class="mb-4" style="color: var(--muted);">All fields are required unless marked optional.</p>

          <form action="{{ url_for('predict_datapoint') }}" method="post" class="row g-3">

            <div class="col-12 col-md-6">
              <label class="form-label">Gender</label>
              <select class="form-select" name="gender" required>
                <option selected disabled value="">Select gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
              </select>
            </div>

            <div class="col-12 col-md-6">
              <label class="form-label">Race / Ethnicity</label>
              <select class="form-select" name="ethnicity" required>
                <option selected disabled value="">Select ethnicity</option>
                <option value="group A">Group A</option>
                <option value="group B">Group B</option>
                <option value="group C">Group C</option>
                <option value="group D">Group D</option>
                <option value="group E">Group E</option>
              </select>
            </div>

            <div class="col-12 col-md-6">
              <label class="form-label">Parental Level of Education</label>
              <select class="form-select" name="parental_level_of_education" required>
                <option selected disabled value="">Select parent education</option>
                <option value="associate's degree">Associate's degree</option>
                <option value="bachelor's degree">Bachelor's degree</option>
                <option value="high school">High school</option>
                <option value="master's degree">Master's degree</option>
                <option value="some college">Some college</option>
                <option value="some high school">Some high school</option>
              </select>
            </div>

            <div class="col-12 col-md-6">
              <label class="form-label">Lunch Type</label>
              <select class="form-select" name="lunch" required>
                <option selected disabled value="">Select lunch type</option>
                <option value="free/reduced">Free / reduced</option>
                <option value="standard">Standard</option>
              </select>
            </div>

            <div class="col-12 col-md-6">
              <label class="form-label">Test Preparation Course</label>
              <select class="form-select" name="test_preparation_course" required>
                <option selected disabled value="">Select test course</option>
                <option value="none">None</option>
                <option value="completed">Completed</option>
              </select>
            </div>

            <div class="col-12 col-md-6">
              <label class="form-label">Reading Score (0‚Äì100)</label>
              <!-- Keep name="reading_score" to match backend -->
              <input class="form-control" type="number" name="reading_score" placeholder="e.g., 72" min="0" max="100" required />
            </div>

            <div class="col-12 col-md-6">
              <label class="form-label">Writing Score (0‚Äì100)</label>
              <!-- Keep name="writing_score" to match backend -->
              <input class="form-control" type="number" name="writing_score" placeholder="e.g., 68" min="0" max="100" required />
            </div>

            <div class="col-12 d-grid d-sm-flex gap-2 mt-2">
              <button class="btn btn-primary btn-lg px-4" type="submit">Predict Math Score</button>
              <button class="btn btn-outline-light btn-lg px-4" type="reset">Reset</button>
            </div>

          </form>

          {% if results is not none and results != "" %}
          <div class="result-card mt-4 p-4">
            <div class="d-flex flex-column flex-sm-row align-items-start align-items-sm-center justify-content-between gap-2">
              <div>
                <div class="text-uppercase" style="letter-spacing: 0.12em; font-size: 0.8rem; color: var(--muted);">Prediction</div>
                <div class="h3 fw-bold mb-0">{{ results }}</div>
                <div class="mt-1" style="color: rgba(232, 238, 252, 0.60); font-size: 0.95rem;">Predicted math score (0‚Äì100)</div>
              </div>
              <div class="text-sm-end" style="color: var(--muted);">
                <div>Estimated Math score</div>
                <div style="font-size: 0.85rem;">(based on inputs)</div>
              </div>
            </div>
          </div>
          {% endif %}

          <div class="mt-4 footer-note">
            Tip: Keep scores between 0 and 100 for the most accurate prediction.
          </div>
        </div>

      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>

</html>